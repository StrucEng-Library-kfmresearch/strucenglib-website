<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Blender &#8212; COMPAS 1.16.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Rhino 5 on Windows" href="rhino5.html" />
    <link rel="prev" title="Grasshopper" href="grasshopper.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="blender">
<span id="gs-blender"></span><h1>Blender</h1>
<p>Blender ships with its own embedded version of Python. Therefore, the simplest
(and recommended) way to install COMPAS for Blender is to replace the embedded
Python by the Python of a <code class="docutils literal notranslate"><span class="pre">conda</span></code> environment that already has COMPAS installed.</p>
<p>It is important that the version of Python installed in the <code class="docutils literal notranslate"><span class="pre">conda</span></code> environment matches
the version of Python that was originally shipped with Blender. For Blender 2.83 LTS
the version of the bundled Python is 3.7, and for 2.93 LTS it is 3.9.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On windows, the standard installation procedure recently stopped working.
For an alternative procedure see <a class="reference internal" href="#installation-on-windows">Installation on Windows</a>.</p>
</div>
<section id="installation">
<h2>Installation</h2>
<p>These instructions are for the latest Blender 2.93 LTS which ships with Python 3.9
If you don’t have an environment yet with Python 3.9 and COMPAS you can create one with <code class="docutils literal notranslate"><span class="pre">conda</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>blender<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.9<span class="w"> </span>compas<span class="w"> </span>--yes
</pre></div>
</div>
<p>Configuring Blender to use the newly installed environment is slightly different per OS.</p>
<div class="compas-tabs docutils">
<input checked="checked" id="fea0fd8c-0ba4-4d2c-b7b5-dcf2ed6079f0" name="c9097c7a-d60f-47e1-9684-eb840c80b8ee" type="radio">
</input><label class="compas-tab-item-label" for="fea0fd8c-0ba4-4d2c-b7b5-dcf2ed6079f0">
Windows</label><div class="compas-tab-item-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate<span class="w"> </span>blender
python<span class="w"> </span>-m<span class="w"> </span>compas_blender.install<span class="w"> </span>-v<span class="w"> </span><span class="m">2</span>.93
</pre></div>
</div>
<p>Note that the path <code class="docutils literal notranslate"><span class="pre">%PROGRAMFILES%\\Blender</span> <span class="pre">Foundation\\Blender</span> <span class="pre">2.93\\2.93</span></code> might be different on your system.
Check your Blender installation and change the path accordingly.</p>
</div>
<input id="bc444463-d698-4c31-ae8b-db086fa846ee" name="c9097c7a-d60f-47e1-9684-eb840c80b8ee" type="radio">
</input><label class="compas-tab-item-label" for="bc444463-d698-4c31-ae8b-db086fa846ee">
OSX</label><div class="compas-tab-item-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate<span class="w"> </span>blender
python<span class="w"> </span>-m<span class="w"> </span>compas_blender.install<span class="w"> </span>/Applications/blender.app/Contents/Resources/2.93
</pre></div>
</div>
<p>Note that the path <code class="docutils literal notranslate"><span class="pre">/Applications/blender.app/Contents/Resources/2.93</span></code> might be different on your system.
Check your Blender installation and change the path accordingly.</p>
</div>
<input id="60e9ca45-0275-4d01-8361-f9105bde0df3" name="c9097c7a-d60f-47e1-9684-eb840c80b8ee" type="radio">
</input><label class="compas-tab-item-label" for="60e9ca45-0275-4d01-8361-f9105bde0df3">
Linux</label><div class="compas-tab-item-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate<span class="w"> </span>blender
python<span class="w"> </span>-m<span class="w"> </span>compas_blender.install<span class="w"> </span>~/Blender/2.93
</pre></div>
</div>
<p>Note that the path <code class="docutils literal notranslate"><span class="pre">~/Blender/2.93</span></code> might be different on your system.
Check your Blender installation and change the path accordingly.</p>
</div>
</div>
<p>On Windows and OSX, if Blender is installed in the default location, you can simply provide the version number.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate<span class="w"> </span>blender
python<span class="w"> </span>-m<span class="w"> </span>compas_blender.install<span class="w"> </span>-v<span class="w"> </span><span class="m">2</span>.93
</pre></div>
</div>
</section>
<section id="verify-setup">
<h2>Verify setup</h2>
<p>In Blender, at the interactive Python prompt (&gt;&gt;&gt;) import the following packages</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">compas</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">compas_blender</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
</pre></div>
</div>
</section>
<section id="install-python-packages">
<h2>Install Python packages</h2>
<p>After replacing the embedded version of Python with the one in the virutual
environment, as instructed above, it is not necessary to activate the environment
before using Blender. However, when you want to update the installed packages,
or add more packages, make sure to activate the Blender environment first.
Otherwise, the changes will not have any effect.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate<span class="w"> </span>blender
conda<span class="w"> </span>install<span class="w"> </span>...
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to use blender with a different environment,
you simply have to activate that environment and follow the same procedure described above.</p>
</div>
</section>
<section id="add-ons">
<h2>Add-ons</h2>
<p>For some Blender add-ons, not only the version of Python has to match, but also the version of Numpy.
For example, <a class="reference external" href="http://nortikin.github.io/sverchok/">Sverchok</a>, a Grasshopper-type visual programming tool for Blender,
will not work with the version of Numpy included in the latest COMPAS releases, even though Blender will.</p>
<p>In those cases, you can simply revert to an earlier version of Numpy that is still compatible with COMPAS
in the environment you use with Blender. For Sverchok, this would be version <code class="docutils literal notranslate"><span class="pre">1.17.5</span></code>,
which is the one shipped with Blender originally. To revert simply do</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate<span class="w"> </span>blender
conda<span class="w"> </span>install<span class="w"> </span><span class="nv">numpy</span><span class="o">=</span><span class="m">1</span>.17.5
</pre></div>
</div>
</section>
<section id="start-blender">
<h2>Start Blender</h2>
<p>Blender uses the command window of your system to display error messages and other text output.
On Windows, the output window can be brought to the front directly from the “Window” menu.
On Mac or Linux, you should start Blender from the command line.</p>
<p>By adding the Blender executable to the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> variable this is really simple.
Just add the following to your <code class="docutils literal notranslate"><span class="pre">.bash_profile</span></code> or <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code>.</p>
<div class="compas-tabs docutils">
<input checked="checked" id="1cfa8d8d-3a51-40b2-9fe3-9ce8ea2767c8" name="0cee8a93-c531-437b-8245-6d4102b376d4" type="radio">
</input><label class="compas-tab-item-label" for="1cfa8d8d-3a51-40b2-9fe3-9ce8ea2767c8">
OSX</label><div class="compas-tab-item-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;/Applications/blender.app/Contents/MacOS:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
<input id="5d6d8051-3f52-4dbb-b2bb-c8518ec1dd83" name="0cee8a93-c531-437b-8245-6d4102b376d4" type="radio">
</input><label class="compas-tab-item-label" for="5d6d8051-3f52-4dbb-b2bb-c8518ec1dd83">
Linux</label><div class="compas-tab-item-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;~/Blender/2.83:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>

Note<span class="w"> </span>that<span class="w"> </span>this<span class="w"> </span>path<span class="w"> </span>might<span class="w"> </span>be<span class="w"> </span>different<span class="w"> </span>on<span class="w"> </span>your<span class="w"> </span>system.
</pre></div>
</div>
</div>
</div>
<p>After that starting Blender from the command line is much simpler.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>blender
</pre></div>
</div>
</section>
<section id="known-issues">
<h2>Known Issues</h2>
<p>On Windows, Blender sometimes has issues with finding NumPy libraries.
If this is the case, the problem can usually be solved by reinstalling NumPy in your environment using <code class="docutils literal notranslate"><span class="pre">pip</span></code>.
However, to avoid issues with other packages that were already installed and depend on a specific version of NumPy,
you should install the same version as the one installed originally by <code class="docutils literal notranslate"><span class="pre">conda</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import numpy; print(numpy.__version__)&quot;</span>
</pre></div>
</div>
<p>If the above is, for example, <code class="docutils literal notranslate"><span class="pre">1.20.3</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>--force-reinstall<span class="w"> </span><span class="nv">numpy</span><span class="o">==</span><span class="m">1</span>.20.3
</pre></div>
</div>
<p>Alternatively, you can create a new environment and simply install entire COMPAS using <code class="docutils literal notranslate"><span class="pre">pip</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>blender<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.9<span class="w"> </span>cython<span class="w"> </span>planarity<span class="w"> </span>--yes
conda<span class="w"> </span>activate<span class="w"> </span>blender
pip<span class="w"> </span>install<span class="w"> </span>compas
python<span class="w"> </span>-m<span class="w"> </span>compas_blender.install
</pre></div>
</div>
</section>
<section id="installation-on-windows">
<h2>Installation on Windows</h2>
<p>On Windows, the procedure described above no longer works.
However, an alternative procedure is still possible.
Note that since this procedure is based on installing COMPAS directly using the <cite>python</cite> and <cite>pip</cite> executables shipped with Blender,
it is limited to packages that can be installed from the Python Package Index (PyPI).</p>
<p>The basic command will install <cite>compas</cite> and <cite>compas_blender</cite> (and <cite>compas_rhino</cite> and <cite>compas_ghpython</cite>) for the default version of Blender (2.93),
if that version can be found in the default installation location.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>compas_blender.install_windows
</pre></div>
</div>
<p>Install for a different version.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>compas_blender.install_windows<span class="w"> </span>-v<span class="w"> </span><span class="m">3</span>.1
</pre></div>
</div>
<p>Install additional packages.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>compas_blender.install_windows<span class="w"> </span>-p<span class="w"> </span>compas_cloud
</pre></div>
</div>
<p>Install with <cite>pip</cite> configuration options.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>compas_blender.install_windows<span class="w"> </span>--force-reinstall<span class="w"> </span>--no-deps
</pre></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">COMPAS</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../gettingstarted.html">Getting started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="vscode.html">Visual Studio Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="rhino.html">Rhino (Windows and Mac)</a></li>
<li class="toctree-l2"><a class="reference internal" href="grasshopper.html">Grasshopper</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Blender</a></li>
<li class="toctree-l2"><a class="reference internal" href="rhino5.html">Rhino 5 on Windows</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Extension points</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devguide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../gettingstarted.html">Getting started</a><ul>
      <li>Previous: <a href="grasshopper.html" title="previous chapter">Grasshopper</a></li>
      <li>Next: <a href="rhino5.html" title="next chapter">Rhino 5 on Windows</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;Block Research Group - ETH Zurich.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
    </div>

    

    
  </body>
</html>