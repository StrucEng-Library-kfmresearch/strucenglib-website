<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Structure &#8212; COMPAS FEA 0.3.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Nodes" href="03_nodes.html" />
    <link rel="prev" title="Basics" href="01_basics.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="structure">
<h1>Structure</h1>
<section id="structure-object">
<h2>Structure object</h2>
<p>The central container for all model and analysis data is the <strong>Structure</strong> object, created from the <strong>Structure</strong> class.
All of the attributes and methods of this class can be found at <strong>compas_fea.structure.structure</strong> and <strong>compas_fea.structure.mixins</strong>, with the most important methods demonstrated here and throughout the other topics of the tutorial. So please see the various topics on the other tutorial pages to understand how to add all the various data and objects to the <strong>Structure</strong> object. The following code creates an empty <strong>Structure</strong> object named <code class="docutils literal notranslate"><span class="pre">mdl</span></code> (used in all of the tutorials and examples as a short-cut handle).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">compas_fea.structure</span> <span class="kn">import</span> <span class="n">Structure</span>

<span class="n">mdl</span> <span class="o">=</span> <span class="n">Structure</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;simple-truss&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;/home/al/Temp/&#39;</span><span class="p">)</span>  <span class="c1"># create an empty Structure with name and path</span>
</pre></div>
</div>
<p>The files that are generated when using the <strong>compas_fea</strong> package will all be saved in a folder named <code class="docutils literal notranslate"><span class="pre">path</span></code>, with many temporary files stored within this location under another folder called <code class="docutils literal notranslate"><span class="pre">path/name</span></code>. These arguments can be passed when instantiating the <strong>Structure</strong> object like above, or by changing the attributes directly at a later time.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mdl</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;new-truss&#39;</span>  <span class="c1"># change the name</span>
<span class="n">mdl</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;/home/al/Folder/&#39;</span>  <span class="c1"># change the path</span>
</pre></div>
</div>
<p>The above pairing will later produce files such as <strong>/home/al/Folder/new-truss.inp</strong> (an Abaqus input file) and <strong>/home/al/Folder/new-truss.obj</strong> (a hard copy of the structure). Additional temporary files, including output <strong>.json</strong> data and analysis output databases such as an Abaqus <strong>.odb</strong> file will be stored in <strong>/home/al/Folder/new-truss/</strong>, this is to keep things organised in one folder as an analysis will often generate many output files that would clutter the <code class="docutils literal notranslate"><span class="pre">path</span></code> folder.</p>
</section>
<section id="summary">
<h2>Summary</h2>
<p>Once constructed, a top-down summary of the <strong>Structure</strong> object can be printed with the method <code class="docutils literal notranslate"><span class="pre">.summary()</span></code> or by printing the object with <code class="docutils literal notranslate"><span class="pre">print(mdl)</span></code>. This will print information to the terminal such as the number of nodes and elements, the name of sets and how many items in their selection, and the name and type of added objects such as <strong>Materials</strong>, <strong>Sections</strong>, <strong>Loads</strong>, <strong>Displacements</strong> and <strong>Steps</strong> (all of these are described on other tutorial pages). This summary is useful for checking that nodes, elements and objects have been added correctly before any analysis is performed. If no objects of a particular type are present in that attribute of the <strong>Structure</strong>, then <strong>n/a</strong> is printed. The summary of a populated <strong>Structure</strong> could look like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mdl</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>

<span class="go">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>
<span class="go">compas_fea Structure: truss_frame</span>
<span class="go">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>

<span class="go">Nodes</span>
<span class="go">-----</span>
<span class="go">56</span>

<span class="go">Elements</span>
<span class="go">--------</span>
<span class="go">158</span>

<span class="go">Sets</span>
<span class="go">----</span>
<span class="go">  elset_diag : Set</span>
<span class="go">  elset_main : Set</span>
<span class="go">  nset_load_v : Set</span>
<span class="go">  elset_stays : Set</span>
<span class="go">  nset_load_h : Set</span>
<span class="go">  nset_pins : Set</span>

<span class="go">Materials</span>
<span class="go">---------</span>
<span class="go">  mat_steel : Steel</span>

<span class="go">Sections</span>
<span class="go">--------</span>
<span class="go">  sec_diag : TrussSection</span>
<span class="go">  sec_main : TrussSection</span>
<span class="go">  sec_stays : TrussSection</span>

<span class="go">Loads</span>
<span class="go">-----</span>
<span class="go">  load_v : PointLoad</span>
<span class="go">  load_h : PointLoad</span>
<span class="go">  load_gravity : GravityLoad</span>

<span class="go">Displacements</span>
<span class="go">-------------</span>
<span class="go">  disp_pinned : PinnedDisplacement</span>

<span class="go">Constraints</span>
<span class="go">-----------</span>
<span class="go">n/a</span>

<span class="go">Interactions</span>
<span class="go">------------</span>
<span class="go">n/a</span>

<span class="go">Misc</span>
<span class="go">----</span>
<span class="go">n/a</span>

<span class="go">Steps</span>
<span class="go">-----</span>
<span class="go">  step_bc : GeneralStep</span>
<span class="go">  step_loads : GeneralStep</span>
</pre></div>
</div>
</section>
<section id="loading-and-saving">
<h2>Loading and saving</h2>
<p>The methods to save and load a <strong>Structure</strong> object are <code class="docutils literal notranslate"><span class="pre">.save_to_obj()</span></code> and <code class="docutils literal notranslate"><span class="pre">.load_from_obj()</span></code>. Saving the <strong>Structure</strong> will use the <code class="docutils literal notranslate"><span class="pre">.path</span></code> and <code class="docutils literal notranslate"><span class="pre">.name</span></code> attribute strings for creating the file name, i.e. <strong>/path/name.obj</strong>. The file name string <code class="docutils literal notranslate"><span class="pre">filename</span></code> must be given for loading an existing <strong>.obj</strong>. These operations will save or load data as a pickled object using the Python <code class="docutils literal notranslate"><span class="pre">Pickle</span></code> module, containing all of the populated dictionaries, objects and analysis results (if any). A confirmation message will be displayed in the Python terminal upon each save and load call if the argument <code class="docutils literal notranslate"><span class="pre">output</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, if <code class="docutils literal notranslate"><span class="pre">False</span></code> then it is suppressed.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt;<span class="w"> </span>mdl.save_to_obj<span class="o">(</span><span class="nv">output</span><span class="o">=</span>True<span class="o">)</span>
*****<span class="w"> </span>Structure<span class="w"> </span>saved<span class="w"> </span>to:<span class="w"> </span>/home/al/Temp/simple-truss.obj<span class="w"> </span>*****

&gt;&gt;&gt;<span class="w"> </span><span class="nv">mdl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>Structure.load_from_obj<span class="o">(</span><span class="nv">filename</span><span class="o">=</span><span class="s1">&#39;/home/al/Temp/simple-truss.obj&#39;</span>,<span class="w"> </span><span class="nv">output</span><span class="o">=</span>True<span class="o">)</span>
*****<span class="w"> </span>Structure<span class="w"> </span>loaded<span class="w"> </span>from:<span class="w"> </span>/home/al/Temp/simple-truss.obj<span class="w"> </span>*****
</pre></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">COMPAS FEA</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorial.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01_basics.html">Basics</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_nodes.html">Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_elements.html">Elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="05_sets.html">Sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_sections.html">Sections</a></li>
<li class="toctree-l2"><a class="reference internal" href="07_material.html">Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="08_properties.html">Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="09_loads.html">Loads</a></li>
<li class="toctree-l2"><a class="reference internal" href="10_displacements.html">Displacements</a></li>
<li class="toctree-l2"><a class="reference internal" href="11_steps.html">Steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="12_analysis.html">Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="13_cad.html">CAD</a></li>
<li class="toctree-l2"><a class="reference internal" href="14_app.html">App</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../tutorial.html">Tutorial</a><ul>
      <li>Previous: <a href="01_basics.html" title="previous chapter">Basics</a></li>
      <li>Next: <a href="03_nodes.html" title="next chapter">Nodes</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;Block Research Group - ETH Zurich.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
    </div>

    

    
  </body>
</html>